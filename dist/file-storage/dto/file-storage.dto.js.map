{"version":3,"sources":["../../../src/file-storage/dto/file-storage.dto.ts"],"sourcesContent":["import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsOptional, IsString, IsBoolean, IsNumber, IsEnum } from 'class-validator';\n\n/**\n * Upload file query parameters\n */\nexport class UploadFileQueryDto {\n    @ApiPropertyOptional({ description: 'Case ID to associate file with' })\n    @IsOptional()\n    @IsString()\n    caseId?: string;\n\n    @ApiPropertyOptional({ description: 'Client ID to associate file with' })\n    @IsOptional()\n    @IsString()\n    clientId?: string;\n\n    @ApiPropertyOptional({ description: 'Folder name within tenant directory' })\n    @IsOptional()\n    @IsString()\n    folder?: string;\n\n    @ApiPropertyOptional({ description: 'Whether file should be public' })\n    @IsOptional()\n    @IsBoolean()\n    isPublic?: boolean;\n}\n\n/**\n * Upload multiple files query parameters\n */\nexport class UploadMultipleFilesQueryDto extends UploadFileQueryDto {\n    @ApiPropertyOptional({ description: 'Number of files to upload (max: 10)', default: 10 })\n    @IsOptional()\n    @IsNumber()\n    maxFiles?: number;\n}\n\n/**\n * Generate signed URL query parameters\n */\nexport class GenerateSignedUrlQueryDto {\n    @ApiProperty({ description: 'Storage path of the file' })\n    @IsString()\n    path: string;\n\n    @ApiPropertyOptional({ description: 'URL expiration time in seconds', default: 3600 })\n    @IsOptional()\n    @IsNumber()\n    expiresIn?: number;\n\n    @ApiPropertyOptional({ description: 'Content disposition', enum: ['attachment', 'inline'] })\n    @IsOptional()\n    @IsEnum(['attachment', 'inline'])\n    disposition?: 'attachment' | 'inline';\n\n    @ApiPropertyOptional({ description: 'Override content type' })\n    @IsOptional()\n    @IsString()\n    contentType?: string;\n}\n\n/**\n * Copy file DTO\n */\nexport class CopyFileDto {\n    @ApiProperty({ description: 'Source file path' })\n    @IsString()\n    sourcePath: string;\n\n    @ApiProperty({ description: 'Destination file path' })\n    @IsString()\n    destinationPath: string;\n}\n\n/**\n * Move file DTO\n */\nexport class MoveFileDto {\n    @ApiProperty({ description: 'Source file path' })\n    @IsString()\n    sourcePath: string;\n\n    @ApiProperty({ description: 'Destination file path' })\n    @IsString()\n    destinationPath: string;\n}\n\n/**\n * Delete multiple files DTO\n */\nexport class DeleteMultipleFilesDto {\n    @ApiProperty({ description: 'Array of file paths to delete', type: [String] })\n    @IsString({ each: true })\n    paths: string[];\n}\n\n/**\n * Get quota query parameters\n */\nexport class GetQuotaQueryDto {\n    @ApiPropertyOptional({ description: 'Subscription plan', enum: ['basic', 'professional', 'enterprise'], default: 'basic' })\n    @IsOptional()\n    @IsEnum(['basic', 'professional', 'enterprise'])\n    plan?: string;\n}\n\n/**\n * Get config query parameters\n */\nexport class GetConfigQueryDto {\n    @ApiPropertyOptional({ description: 'Subscription plan', enum: ['basic', 'professional', 'enterprise'], default: 'basic' })\n    @IsOptional()\n    @IsEnum(['basic', 'professional', 'enterprise'])\n    plan?: string;\n}\n\n/**\n * File upload result\n */\nexport class FileUploadResultDto {\n    @ApiProperty({ description: 'Storage path' })\n    path: string;\n\n    @ApiProperty({ description: 'Public URL' })\n    url: string;\n\n    @ApiProperty({ description: 'File size in bytes' })\n    size: number;\n\n    @ApiPropertyOptional({ description: 'ETag' })\n    etag?: string;\n\n    @ApiPropertyOptional({ description: 'Version ID' })\n    versionId?: string;\n}\n\n/**\n * Bulk upload result\n */\nexport class BulkUploadResultDto {\n    @ApiProperty({ description: 'Successfully uploaded files', type: [FileUploadResultDto] })\n    success: FileUploadResultDto[];\n\n    @ApiProperty({ description: 'Failed uploads', type: [Object] })\n    failed: Array<{ fileName: string; error: string }>;\n}\n\n/**\n * Storage quota response\n */\nexport class StorageQuotaDto {\n    @ApiProperty({ description: 'Total quota in bytes' })\n    total: number;\n\n    @ApiProperty({ description: 'Used space in bytes' })\n    used: number;\n\n    @ApiProperty({ description: 'Available space in bytes' })\n    available: number;\n\n    @ApiProperty({ description: 'Usage percentage (0-100)' })\n    usagePercentage: number;\n}\n\n/**\n * File storage config response\n */\nexport class FileStorageConfigDto {\n    @ApiProperty({ description: 'Allowed MIME types', type: [String] })\n    allowedMimeTypes: string[];\n\n    @ApiProperty({ description: 'Max file size in bytes' })\n    fileSizeLimit: number;\n}\n"],"names":["BulkUploadResultDto","CopyFileDto","DeleteMultipleFilesDto","FileStorageConfigDto","FileUploadResultDto","GenerateSignedUrlQueryDto","GetConfigQueryDto","GetQuotaQueryDto","MoveFileDto","StorageQuotaDto","UploadFileQueryDto","UploadMultipleFilesQueryDto","description","default","enum","type","String","each","Object"],"mappings":";;;;;;;;;;;QA4IaA;eAAAA;;QA3EAC;eAAAA;;QA0BAC;eAAAA;;QA6EAC;eAAAA;;QAhDAC;eAAAA;;QA/EAC;eAAAA;;QAqEAC;eAAAA;;QAVAC;eAAAA;;QAtBAC;eAAAA;;QAyEAC;eAAAA;;QAjJAC;eAAAA;;QAyBAC;eAAAA;;;yBA/BoC;gCACiB;;;;;;;;;;AAK3D,IAAA,AAAMD,qBAAN,MAAMA;AAoBb;;;QAnB2BE,aAAa;;;;;;;;QAKbA,aAAa;;;;;;;;QAKbA,aAAa;;;;;;;;QAKbA,aAAa;;;;;;AASjC,IAAA,AAAMD,8BAAN,MAAMA,oCAAoCD;AAKjD;;;QAJ2BE,aAAa;QAAuCC,SAAS;;;;;;AASjF,IAAA,AAAMR,4BAAN,MAAMA;AAmBb;;;QAlBmBO,aAAa;;;;;;;QAILA,aAAa;QAAkCC,SAAS;;;;;;;;QAKxDD,aAAa;QAAuBE,MAAM;YAAC;YAAc;SAAS;;;;QAEhF;QAAc;;;;;;QAGAF,aAAa;;;;;;AASjC,IAAA,AAAMX,cAAN,MAAMA;AAQb;;;QAPmBW,aAAa;;;;;;;QAIbA,aAAa;;;;;AAQzB,IAAA,AAAMJ,cAAN,MAAMA;AAQb;;;QAPmBI,aAAa;;;;;;;QAIbA,aAAa;;;;;AAQzB,IAAA,AAAMV,yBAAN,MAAMA;AAIb;;;QAHmBU,aAAa;QAAiCG,MAAM;YAACC;SAAO;;;QAC/DC,MAAM;;;;AAOf,IAAA,AAAMV,mBAAN,MAAMA;AAKb;;;QAJ2BK,aAAa;QAAqBE,MAAM;YAAC;YAAS;YAAgB;SAAa;QAAED,SAAS;;;;QAExG;QAAS;QAAgB;;;;AAO/B,IAAA,AAAMP,oBAAN,MAAMA;AAKb;;;QAJ2BM,aAAa;QAAqBE,MAAM;YAAC;YAAS;YAAgB;SAAa;QAAED,SAAS;;;;QAExG;QAAS;QAAgB;;;;AAO/B,IAAA,AAAMT,sBAAN,MAAMA;AAeb;;;QAdmBQ,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGLA,aAAa;;;;;;QAGbA,aAAa;;;;AAOjC,IAAA,AAAMZ,sBAAN,MAAMA;AAMb;;;QALmBY,aAAa;QAA+BG,MAAM;YAACX;SAAoB;;;;;;QAGvEQ,aAAa;QAAkBG,MAAM;YAACG;SAAO;;;;AAOzD,IAAA,AAAMT,kBAAN,MAAMA;AAYb;;;QAXmBG,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;AAOzB,IAAA,AAAMT,uBAAN,MAAMA;AAMb;;;QALmBS,aAAa;QAAsBG,MAAM;YAACC;SAAO;;;;;;QAGjDJ,aAAa"}