{"version":3,"sources":["../../../src/billing/dto/billing.dto.ts"],"sourcesContent":["import { IsEnum, IsString, IsOptional, IsBoolean } from 'class-validator';\nimport { SubscriptionPlan, SubscriptionProvider } from '../../database/entities/enums/subscription.enum';\n\n/**\n * Create Checkout Session DTO\n */\nexport class CreateCheckoutSessionDto {\n    @IsEnum(SubscriptionPlan)\n    plan: SubscriptionPlan;\n\n    @IsEnum(SubscriptionProvider)\n    provider: SubscriptionProvider;\n\n    @IsString()\n    @IsOptional()\n    successUrl?: string;\n\n    @IsString()\n    @IsOptional()\n    cancelUrl?: string;\n\n    @IsBoolean()\n    @IsOptional()\n    trial?: boolean;\n}\n\n/**\n * Checkout Session Response DTO\n */\nexport class CheckoutSessionResponseDto {\n    checkoutUrl: string;\n    sessionId: string;\n}\n\n/**\n * Cancel Subscription DTO\n */\nexport class CancelSubscriptionDto {\n    @IsBoolean()\n    @IsOptional()\n    atPeriodEnd?: boolean;\n}\n\n/**\n * Resume Subscription DTO\n */\nexport class ResumeSubscriptionDto {\n    @IsString()\n    @IsOptional()\n    plan?: SubscriptionPlan;\n}\n\n/**\n * Webhook DTO (shared)\n */\nexport class WebhookDto {\n    @IsString()\n    signature: string;\n\n    @IsString()\n    payload: string;\n}\n\n/**\n * Payment Method DTO\n */\nexport class PaymentMethodDto {\n    @IsString()\n    type: 'card' | 'bank_account';\n\n    @IsString()\n    token?: string;\n\n    @IsString()\n    @IsOptional()\n    last4?: string;\n\n    @IsString()\n    @IsOptional()\n    expMonth?: string;\n\n    @IsString()\n    @IsOptional()\n    expYear?: string;\n\n    @IsBoolean()\n    @IsOptional()\n    isDefault?: boolean;\n}\n"],"names":["CancelSubscriptionDto","CheckoutSessionResponseDto","CreateCheckoutSessionDto","PaymentMethodDto","ResumeSubscriptionDto","WebhookDto"],"mappings":";;;;;;;;;;;QAqCaA;eAAAA;;QARAC;eAAAA;;QAvBAC;eAAAA;;QA4DAC;eAAAA;;QApBAC;eAAAA;;QASAC;eAAAA;;;gCAvD2C;kCACD;;;;;;;;;;AAKhD,IAAA,AAAMH,2BAAN,MAAMA;AAkBb;;;;;;;;;;;;;;;;;;;;;;;;AAKO,IAAA,AAAMD,6BAAN,MAAMA;AAGb;AAKO,IAAA,AAAMD,wBAAN,MAAMA;AAIb;;;;;;AAKO,IAAA,AAAMI,wBAAN,MAAMA;AAIb;;;;;;AAKO,IAAA,AAAMC,aAAN,MAAMA;AAMb;;;;;;;;;AAKO,IAAA,AAAMF,mBAAN,MAAMA;AAsBb"}