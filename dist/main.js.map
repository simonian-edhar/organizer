{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import { NestFactory } from '@nestjs/core';\nimport { ValidationPipe, Logger } from '@nestjs/common';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const logger = new Logger('Bootstrap');\n  logger.log('Starting application...');\n  const app = await NestFactory.create(AppModule, {\n    bufferLogs: true,\n  });\n\n  app.useLogger(logger);\n\n  // Enable validation\n  app.useGlobalPipes(\n    new ValidationPipe({\n      whitelist: true,\n      forbidNonWhitelisted: true,\n      transform: true,\n    }),\n  );\n\n  // Global API prefix (health stays at /health, API at /v1)\n  app.setGlobalPrefix('v1', { exclude: ['health'] });\n\n  // Enable CORS\n  app.enableCors({\n    origin: process.env.ALLOWED_ORIGINS?.split(',') || true,\n    credentials: true,\n  });\n\n  const port = process.env.PORT || 3000;\n\n  await app.listen(port);\n\n  logger.log(`Application is running on: http://localhost:${port}`);\n  logger.log(`Environment: ${process.env.NODE_ENV || 'development'}`);\n}\n\nbootstrap().catch((err) => {\n  console.error('Bootstrap failed:', err);\n  process.exit(1);\n});\n"],"names":["bootstrap","logger","Logger","log","app","NestFactory","create","AppModule","bufferLogs","useLogger","useGlobalPipes","ValidationPipe","whitelist","forbidNonWhitelisted","transform","setGlobalPrefix","exclude","enableCors","origin","process","env","ALLOWED_ORIGINS","split","credentials","port","PORT","listen","NODE_ENV","catch","err","console","error","exit"],"mappings":";;;;sBAA4B;wBACW;2BACb;AAE1B,eAAeA;IACb,MAAMC,SAAS,IAAIC,cAAM,CAAC;IAC1BD,OAAOE,GAAG,CAAC;IACX,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS,EAAE;QAC9CC,YAAY;IACd;IAEAJ,IAAIK,SAAS,CAACR;IAEd,oBAAoB;IACpBG,IAAIM,cAAc,CAChB,IAAIC,sBAAc,CAAC;QACjBC,WAAW;QACXC,sBAAsB;QACtBC,WAAW;IACb;IAGF,0DAA0D;IAC1DV,IAAIW,eAAe,CAAC,MAAM;QAAEC,SAAS;YAAC;SAAS;IAAC;IAEhD,cAAc;IACdZ,IAAIa,UAAU,CAAC;QACbC,QAAQC,QAAQC,GAAG,CAACC,eAAe,EAAEC,MAAM,QAAQ;QACnDC,aAAa;IACf;IAEA,MAAMC,OAAOL,QAAQC,GAAG,CAACK,IAAI,IAAI;IAEjC,MAAMrB,IAAIsB,MAAM,CAACF;IAEjBvB,OAAOE,GAAG,CAAC,CAAC,4CAA4C,EAAEqB,MAAM;IAChEvB,OAAOE,GAAG,CAAC,CAAC,aAAa,EAAEgB,QAAQC,GAAG,CAACO,QAAQ,IAAI,eAAe;AACpE;AAEA3B,YAAY4B,KAAK,CAAC,CAACC;IACjBC,QAAQC,KAAK,CAAC,qBAAqBF;IACnCV,QAAQa,IAAI,CAAC;AACf"}