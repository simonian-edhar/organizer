{"version":3,"sources":["../../../src/dashboard/controllers/dashboard.controller.ts"],"sourcesContent":["import {\n    Controller,\n    Get,\n    Query,\n    UseGuards,\n    Req,\n} from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiBearerAuth, ApiQuery } from '@nestjs/swagger';\nimport { DashboardService } from '../services/dashboard.service';\nimport { GetDashboardStatsDto } from '../dto/dashboard-stats.dto';\nimport { DashboardStatsResponseDto } from '../dto/dashboard-response.dto';\nimport { JwtAuthGuard, TenantGuard } from '../../auth/guards';\n\n/**\n * Dashboard Controller\n * Provides endpoints for dashboard statistics and widgets\n */\n@ApiTags('Dashboard')\n@Controller('dashboard')\n@UseGuards(JwtAuthGuard, TenantGuard)\n@ApiBearerAuth()\nexport class DashboardController {\n    constructor(private readonly dashboardService: DashboardService) {}\n\n    @Get('stats')\n    @ApiOperation({ summary: 'Get dashboard statistics' })\n    @ApiResponse({\n        status: 200,\n        description: 'Dashboard statistics retrieved successfully',\n        type: DashboardStatsResponseDto,\n    })\n    @ApiQuery({ name: 'days', required: false, type: Number, description: 'Number of days to look back (default: 30)' })\n    @ApiQuery({ name: 'startDate', required: false, type: Date, description: 'Custom start date' })\n    @ApiQuery({ name: 'endDate', required: false, type: Date, description: 'Custom end date' })\n    async getStats(\n        @Query() query: GetDashboardStatsDto,\n        @Req() req: any,\n    ): Promise<DashboardStatsResponseDto> {\n        const tenantId = req.user?.tenant_id;\n        return this.dashboardService.getDashboardStats(tenantId, query);\n    }\n}\n"],"names":["DashboardController","getStats","query","req","tenantId","user","tenant_id","dashboardService","getDashboardStats","summary","status","description","type","DashboardStatsResponseDto","name","required","Number","Date"],"mappings":";;;;+BAqBaA;;;eAAAA;;;wBAfN;yBACqE;kCAC3C;mCACI;sCACK;wBACA;;;;;;;;;;;;;;;AAUnC,IAAA,AAAMA,sBAAN,MAAMA;IAGT,MAUMC,SACF,AAASC,KAA2B,EACpC,AAAOC,GAAQ,EACmB;QAClC,MAAMC,WAAWD,IAAIE,IAAI,EAAEC;QAC3B,OAAO,IAAI,CAACC,gBAAgB,CAACC,iBAAiB,CAACJ,UAAUF;IAC7D;IAlBA,YAAY,AAAiBK,gBAAkC,CAAE;aAApCA,mBAAAA;IAAqC;AAmBtE;;;;QAhBoBE,SAAS;;;QAErBC,QAAQ;QACRC,aAAa;QACbC,MAAMC,+CAAyB;;;QAEvBC,MAAM;QAAQC,UAAU;QAAOH,MAAMI;QAAQL,aAAa;;;QAC1DG,MAAM;QAAaC,UAAU;QAAOH,MAAMK;QAAMN,aAAa;;;QAC7DG,MAAM;QAAWC,UAAU;QAAOH,MAAMK;QAAMN,aAAa"}