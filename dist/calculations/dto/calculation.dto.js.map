{"version":3,"sources":["../../../src/calculations/dto/calculation.dto.ts"],"sourcesContent":["import { IsEnum, IsString, IsOptional, IsUUID, IsArray, ValidateNested, ArrayMinSize, IsDateString, IsNumber, Min, Max, IsBoolean } from 'class-validator';\nimport { Type } from 'class-transformer';\nimport { CalculationStatus } from '../../database/entities/Calculation.entity';\n\n/**\n * Create Calculation DTO\n */\nexport class CreateCalculationDto {\n    @IsOptional()\n    @IsUUID()\n    caseId?: string;\n\n    @IsString()\n    name: string;\n\n    @IsDateString()\n    calculationDate: string;\n\n    @IsOptional()\n    @IsDateString()\n    dueDate?: string;\n\n    @IsOptional()\n    @IsString()\n    description?: string;\n\n    @IsOptional()\n    @IsUUID()\n    pricelistId?: string;\n\n    @IsArray()\n    @ArrayMinSize(1)\n    @ValidateNested({ each: true })\n    @Type(() => CreateCalculationItemDto)\n    items: CreateCalculationItemDto[];\n\n    @IsOptional()\n    @IsString()\n    internalNotes?: string;\n}\n\n/**\n * Create Calculation Item DTO\n */\nexport class CreateCalculationItemDto {\n    @IsString()\n    description: string;\n\n    @IsOptional()\n    @IsUUID()\n    pricelistItemId?: string;\n\n    @IsOptional()\n    @IsString()\n    code?: string;\n\n    @IsOptional()\n    @IsNumber()\n    quantity?: number;\n\n    @IsOptional()\n    @IsNumber()\n    duration?: number;\n\n    @IsOptional()\n    @IsNumber()\n    unitPrice?: number;\n}\n\n/**\n * Update Calculation DTO\n */\nexport class UpdateCalculationDto {\n    @IsOptional()\n    @IsString()\n    name?: string;\n\n    @IsOptional()\n    @IsDateString()\n    dueDate?: string;\n\n    @IsOptional()\n    @IsString()\n    description?: string;\n\n    @IsOptional()\n    @IsString()\n    internalNotes?: string;\n\n    @IsOptional()\n    @IsEnum(['draft', 'pending_approval', 'approved', 'rejected', 'paid'])\n    status?: CalculationStatus;\n\n    @IsOptional()\n    @IsString()\n    clientNotes?: string;\n}\n\n/**\n * Calculation Filters DTO\n */\nexport class CalculationFiltersDto {\n    @IsOptional()\n    @IsUUID()\n    caseId?: string;\n\n    @IsEnum(['draft', 'pending_approval', 'approved', 'rejected', 'paid'])\n    status?: CalculationStatus;\n\n    @IsOptional()\n    @IsDateString()\n    calculationDateFrom?: string;\n\n    @IsOptional()\n    @IsDateString()\n    calculationDateTo?: string;\n\n    @IsOptional()\n    @IsString()\n    search?: string;\n\n    @IsOptional()\n    @Type(() => Number)\n    @Min(1)\n    @Max(100)\n    page?: number;\n\n    @IsOptional()\n    @Type(() => Number)\n    @Min(1)\n    @Max(100)\n    limit?: number;\n\n    @IsOptional()\n    @IsString()\n    sortBy?: string;\n\n    @IsOptional()\n    @IsString()\n    sortOrder?: 'ASC' | 'DESC';\n}\n\n/**\n * Generate PDF DTO\n */\nexport class GeneratePdfDto {\n    @IsUUID()\n    calculationId: string;\n}\n\n/**\n * Approve Calculation DTO\n */\nexport class ApproveCalculationDto {\n    @IsOptional()\n    @IsString()\n    approvalNotes?: string;\n}\n\n/**\n * Reject Calculation DTO\n */\nexport class RejectCalculationDto {\n    @IsString()\n    reason: string;\n}\n"],"names":["ApproveCalculationDto","CalculationFiltersDto","CreateCalculationDto","CreateCalculationItemDto","GeneratePdfDto","RejectCalculationDto","UpdateCalculationDto","each","Number"],"mappings":";;;;;;;;;;;QAyJaA;eAAAA;;QApDAC;eAAAA;;QA9FAC;eAAAA;;QAqCAC;eAAAA;;QAqGAC;eAAAA;;QAiBAC;eAAAA;;QA1FAC;eAAAA;;;gCAxE4H;kCACpH;mCACa;;;;;;;;;;AAK3B,IAAA,AAAMJ,uBAAN,MAAMA;AAgCb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAPsBK,MAAM;;oCACZJ;;;;;;;;AAWT,IAAA,AAAMA,2BAAN,MAAMA;AAuBb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKO,IAAA,AAAMG,uBAAN,MAAMA;AAwBb;;;;;;;;;;;;;;;;;;;;;;;;QANa;QAAS;QAAoB;QAAY;QAAY;;;;;;;;;AAW3D,IAAA,AAAML,wBAAN,MAAMA;AAuCb;;;;;;;;QAlCa;QAAS;QAAoB;QAAY;QAAY;;;;;;;;;;;;;;;;;;;;;oCAgBlDO;;;;;;;oCAMAA;;;;;;;;;;;;;;;AAiBT,IAAA,AAAMJ,iBAAN,MAAMA;AAGb;;;;;AAKO,IAAA,AAAMJ,wBAAN,MAAMA;AAIb;;;;;;AAKO,IAAA,AAAMK,uBAAN,MAAMA;AAGb"}