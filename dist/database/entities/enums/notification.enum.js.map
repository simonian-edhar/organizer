{"version":3,"sources":["../../../../src/database/entities/enums/notification.enum.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, DeleteDateColumn, ManyToOne, JoinColumn, OneToMany, Index } from 'typeorm';\nimport { User } from './User.entity';\nimport { Organization } from './Organization.entity';\nimport {\n    NotificationType,\n    NotificationStatus,\n    NotificationPriority,\n    NotificationChannel,\n} from './notification.enum';\n\n/**\n * Notification Entity\n */\n@Entity('notifications')\n@Index('idx_notifications_tenant_id', ['tenantId'])\n@Index('idx_notifications_user_id', ['userId'])\n@Index('idx_notifications_status', ['status'])\n@Index('idx_notifications_type', ['type'])\n@Index('idx_notifications_created_at', ['createdAt'])\nexport class Notification {\n    @PrimaryGeneratedColumn('uuid')\n    id: string;\n\n    @Column({ name: 'tenant_id', type: 'uuid' })\n    tenantId: string;\n\n    // User Reference\n    @Column({ name: 'user_id', type: 'uuid', nullable: true })\n    userId: string;\n\n    @Column({ name: 'device_id', type: 'uuid', nullable: true })\n    deviceId: string;\n\n    @Column({ name: 'platform', type: 'varchar', length: 50, nullable: true })\n    platform: string; // 'web' | 'mobile' | 'in_app' | 'desktop'\n\n    @Column({ name: 'user_email', type: 'varchar', length: 255, nullable: true })\n    userEmail: string;\n\n    @Column({ name: 'user_phone', type: 'varchar', length: 20, nullable: true })\n    userPhone: string;\n\n    // Notification Details\n    @Column({\n        type: 'enum',\n        enum: NotificationType,\n    })\n    type: NotificationType;\n\n    @Column({\n        type: 'enum',\n        enum: NotificationStatus,\n    })\n    status: NotificationStatus;\n\n    @Column({\n        type: 'enum',\n        enum: NotificationPriority,\n        default: 'normal'\n    })\n    priority: NotificationPriority;\n\n    @Column({ type: 'enum', enum: NotificationChannel, default: 'email' })\n    channel: NotificationChannel;\n\n    @Column({ type: 'varchar', length: 500 })\n    title: string;\n\n    @Column({ type: 'text' })\n    body: string;\n\n    @Column({ type: 'text', nullable: true })\n    data: Record<string, any>;\n\n    // Template Reference (for email)\n    @Column({ name: 'template_id', type: 'uuid', nullable: true })\n    templateId: string;\n\n    // Email-specific\n    @Column({ name: 'from_email', type: 'varchar', length: 255, nullable: true })\n    fromEmail: string;\n\n    // SMS-specific\n    @Column({ name: 'to_phone', type: 'varchar', length: 20, nullable: true })\n    toPhone: string;\n\n    // Tracking\n    @Column({ name: 'device_token', type: 'varchar', length: 500, nullable: true })\n    deviceToken: string;\n\n    @Column({ name: 'read_at', type: 'timestamptz', nullable: true })\n    readAt: Date;\n\n    @Column({ name: 'delivered_at', type: 'timestamptz', nullable: true })\n    deliveredAt: Date;\n\n    @Column({ name: 'opened_at', type: 'timestamptz', nullable: true })\n    openedAt: Date;\n\n    @Column({ name: 'clicked_at', type: 'timestamptz', nullable: true })\n    clickedAt: Date;\n\n    @Column({ name: 'failed_at', type: 'timestamptz', nullable: true })\n    failedAt: Date;\n\n    @Column({ name: 'error_message', type: 'text', nullable: true })\n    errorMessage: string;\n\n    // Soft Delete\n    @DeleteDateColumn({ name: 'deleted_at', type: 'timestamptz' })\n    deletedAt: Date;\n\n    // Timestamps\n    @CreateDateColumn({ name: 'created_at', type: 'timestamptz' })\n    createdAt: Date;\n\n    @UpdateDateColumn({ name: 'updated_at', type: 'timestamptz' })\n    updatedAt: Date;\n\n    @Column({ name: 'created_by', type: 'uuid', nullable: true })\n    createdBy: string;\n\n    @Column({ name: 'updated_by', type: 'uuid', nullable: true })\n    updatedBy: string;\n\n    // Relations\n    @ManyToOne(() => User)\n    @JoinColumn({ name: 'user_id' })\n    user: User;\n\n    @ManyToOne(() => Organization)\n    @JoinColumn({ name: 'tenant_id' })\n    organization: Organization;\n}\n"],"names":["Notification","name","type","nullable","length","enum","NotificationType","NotificationStatus","NotificationPriority","default","NotificationChannel","User","Organization"],"mappings":";;;;+BAmBaA;;;eAAAA;;;yBAnByI;4BACjI;oCACQ;kCAMtB;;;;;;;;;;AAWA,IAAA,AAAMA,eAAN,MAAMA;AAkHb;;;;;;;QA9GcC,MAAM;QAAaC,MAAM;;;;;;QAIzBD,MAAM;QAAWC,MAAM;QAAQC,UAAU;;;;;;QAGzCF,MAAM;QAAaC,MAAM;QAAQC,UAAU;;;;;;QAG3CF,MAAM;QAAYC,MAAM;QAAWE,QAAQ;QAAID,UAAU;;;;;;QAGzDF,MAAM;QAAcC,MAAM;QAAWE,QAAQ;QAAKD,UAAU;;;;;;QAG5DF,MAAM;QAAcC,MAAM;QAAWE,QAAQ;QAAID,UAAU;;;;;;QAKjED,MAAM;QACNG,MAAMC,kCAAgB;;;;;;QAKtBJ,MAAM;QACNG,MAAME,oCAAkB;;;;;;QAKxBL,MAAM;QACNG,MAAMG,sCAAoB;QAC1BC,SAAS;;;;;;QAIHP,MAAM;QAAQG,MAAMK,qCAAmB;QAAED,SAAS;;;;;;QAGlDP,MAAM;QAAWE,QAAQ;;;;;;QAGzBF,MAAM;;;;;;QAGNA,MAAM;QAAQC,UAAU;;;;;;QAIxBF,MAAM;QAAeC,MAAM;QAAQC,UAAU;;;;;;QAI7CF,MAAM;QAAcC,MAAM;QAAWE,QAAQ;QAAKD,UAAU;;;;;;QAI5DF,MAAM;QAAYC,MAAM;QAAWE,QAAQ;QAAID,UAAU;;;;;;QAIzDF,MAAM;QAAgBC,MAAM;QAAWE,QAAQ;QAAKD,UAAU;;;;;;QAG9DF,MAAM;QAAWC,MAAM;QAAeC,UAAU;;;;;;QAGhDF,MAAM;QAAgBC,MAAM;QAAeC,UAAU;;;;;;QAGrDF,MAAM;QAAaC,MAAM;QAAeC,UAAU;;;;;;QAGlDF,MAAM;QAAcC,MAAM;QAAeC,UAAU;;;;;;QAGnDF,MAAM;QAAaC,MAAM;QAAeC,UAAU;;;;;;QAGlDF,MAAM;QAAiBC,MAAM;QAAQC,UAAU;;;;;;QAIrCF,MAAM;QAAcC,MAAM;;;;;;QAI1BD,MAAM;QAAcC,MAAM;;;;;;QAG1BD,MAAM;QAAcC,MAAM;;;;;;QAGpCD,MAAM;QAAcC,MAAM;QAAQC,UAAU;;;;;;QAG5CF,MAAM;QAAcC,MAAM;QAAQC,UAAU;;;;;gCAIrCQ,gBAAI;;QACPV,MAAM;;;;;gCAGHW,gCAAY;;QACfX,MAAM;;;;;;;QArHe;;;QACF;;;QACD;;;QACF;;;QACM"}