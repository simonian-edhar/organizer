{"version":3,"sources":["../../../src/database/entities/Case.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, DeleteDateColumn, ManyToOne, JoinColumn, OneToMany, Index } from 'typeorm';\nimport { CaseStatus, CasePriority } from './enums/case.enum';\nimport { Client } from './Client.entity';\nimport { User } from './User.entity';\nimport type { Document } from './Document.entity';\nimport type { Event } from './Event.entity';\n\n/**\n * Case Entity\n * Represents legal cases/sporadenia\n */\n@Entity('cases')\n@Index('idx_cases_tenant_id', ['tenantId'])\n@Index('idx_cases_client_id', ['clientId'])\n@Index('idx_cases_status', ['status'])\n@Index('idx_cases_priority', ['priority'])\n@Index('idx_cases_case_number', ['caseNumber'])\n@Index('idx_cases_created_at', ['createdAt'])\nexport class Case {\n    @PrimaryGeneratedColumn('uuid')\n    id: string;\n\n    @Column({ name: 'tenant_id', type: 'uuid' })\n    tenantId: string;\n\n    // Case Identification\n    @Column({ name: 'case_number', type: 'varchar', length: 50 })\n    caseNumber: string;\n\n    // Case Type\n    @Column({\n        type: 'varchar',\n    })\n    caseType: 'civil' | 'criminal' | 'administrative' | 'economic' | 'family' | 'labor' | 'tax' | 'other';\n\n    // Assigned Lawyer\n    @Column({ name: 'assigned_lawyer_id', type: 'uuid' })\n    assignedLawyerId: string;\n\n    // Client\n    @Column({ name: 'client_id', type: 'uuid' })\n    clientId: string;\n\n    // Case Details\n    @Column({ type: 'text', nullable: true })\n    title: string;\n\n    @Column({ type: 'text', nullable: true })\n    description: string;\n\n    @Column({\n        type: 'varchar',\n    })\n    priority: 'low' | 'medium' | 'high' | 'urgent';\n\n    @Column({\n        type: 'varchar',\n    })\n    status: 'draft' | 'active' | 'on_hold' | 'closed' | 'archived';\n\n    // Dates\n    @Column({ name: 'start_date', type: 'date', nullable: true })\n    startDate: Date;\n\n    @Column({ name: 'end_date', type: 'date', nullable: true })\n    endDate: Date;\n\n    @Column({ name: 'next_hearing_date', type: 'date', nullable: true })\n    nextHearingDate: Date;\n\n    @Column({ name: 'deadline_date', type: 'date', nullable: true })\n    deadlineDate: Date;\n\n    // Financial\n    @Column({ name: 'estimated_amount', type: 'decimal', precision: 12, scale: 2, nullable: true })\n    estimatedAmount: number;\n\n    @Column({ name: 'paid_amount', type: 'decimal', precision: 12, scale: 2, nullable: true, default: 0 })\n    paidAmount: number;\n\n    // Court Information\n    @Column({ name: 'court_name', type: 'varchar', length: 255, nullable: true })\n    courtName: string;\n\n    @Column({ name: 'court_address', type: 'text', nullable: true })\n    courtAddress: string;\n\n    @Column({ name: 'judge_name', type: 'varchar', length: 100, nullable: true })\n    judgeName: string;\n\n    // Notes\n    @Column({ type: 'text', nullable: true })\n    internalNotes: string;\n\n    @Column({ type: 'text', nullable: true })\n    clientNotes: string;\n\n    // Metadata\n    @Column({ type: 'json' })\n    metadata: Record<string, any>;\n\n    // Soft Delete\n    @DeleteDateColumn({ name: 'deleted_at', type: 'datetime' })\n    deletedAt: Date;\n\n    // Timestamps\n    @CreateDateColumn({ name: 'created_at', type: 'datetime' })\n    createdAt: Date;\n\n    @UpdateDateColumn({ name: 'updated_at', type: 'datetime' })\n    updatedAt: Date;\n\n    @Column({ name: 'created_by', type: 'uuid', nullable: true })\n    createdBy: string;\n\n    @Column({ name: 'updated_by', type: 'uuid', nullable: true })\n    updatedBy: string;\n\n    // Relations\n    @ManyToOne(() => User)\n    @JoinColumn({ name: 'assigned_lawyer_id' })\n    assignedLawyer: User;\n\n    @ManyToOne(() => Client)\n    @JoinColumn({ name: 'client_id' })\n    client: Client;\n\n    @OneToMany(() => require('./Document.entity').Document, (document: Document) => document.case)\n    documents: Document[];\n\n    @OneToMany(() => require('./Event.entity').Event, (event: Event) => event.case)\n    events: Event[];\n}\n"],"names":["Case","name","type","length","nullable","precision","scale","default","User","Client","require","Document","document","case","Event","event"],"mappings":";;;;+BAkBaA;;;eAAAA;;;yBAlByI;8BAE/H;4BACF;;;;;;;;;;AAed,IAAA,AAAMA,OAAN,MAAMA;AAkHb;;;;;;;QA9GcC,MAAM;QAAaC,MAAM;;;;;;QAIzBD,MAAM;QAAeC,MAAM;QAAWC,QAAQ;;;;;;QAKpDD,MAAM;;;;;;QAKAD,MAAM;QAAsBC,MAAM;;;;;;QAIlCD,MAAM;QAAaC,MAAM;;;;;;QAIzBA,MAAM;QAAQE,UAAU;;;;;;QAGxBF,MAAM;QAAQE,UAAU;;;;;;QAI9BF,MAAM;;;;;;QAKNA,MAAM;;;;;;QAKAD,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;;QAG5CH,MAAM;QAAYC,MAAM;QAAQE,UAAU;;;;;;QAG1CH,MAAM;QAAqBC,MAAM;QAAQE,UAAU;;;;;;QAGnDH,MAAM;QAAiBC,MAAM;QAAQE,UAAU;;;;;;QAI/CH,MAAM;QAAoBC,MAAM;QAAWG,WAAW;QAAIC,OAAO;QAAGF,UAAU;;;;;;QAG9EH,MAAM;QAAeC,MAAM;QAAWG,WAAW;QAAIC,OAAO;QAAGF,UAAU;QAAMG,SAAS;;;;;;QAIxFN,MAAM;QAAcC,MAAM;QAAWC,QAAQ;QAAKC,UAAU;;;;;;QAG5DH,MAAM;QAAiBC,MAAM;QAAQE,UAAU;;;;;;QAG/CH,MAAM;QAAcC,MAAM;QAAWC,QAAQ;QAAKC,UAAU;;;;;;QAI5DF,MAAM;QAAQE,UAAU;;;;;;QAGxBF,MAAM;QAAQE,UAAU;;;;;;QAIxBF,MAAM;;;;;;QAIID,MAAM;QAAcC,MAAM;;;;;;QAI1BD,MAAM;QAAcC,MAAM;;;;;;QAG1BD,MAAM;QAAcC,MAAM;;;;;;QAGpCD,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;;QAG5CH,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;gCAIrCI,gBAAI;;QACPP,MAAM;;;;;gCAGHQ,oBAAM;;QACTR,MAAM;;;;;gCAGHS,QAAQ,qBAAqBC,QAAQ,GAAGC,WAAuBA,SAASC,IAAI;;;;gCAG5EH,QAAQ,kBAAkBI,KAAK,GAAGC,QAAiBA,MAAMF,IAAI;;;;;;QAtHnD;;;QACA;;;QACH;;;QACE;;;QACG;;;QACD"}