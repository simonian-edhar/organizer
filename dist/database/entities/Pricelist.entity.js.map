{"version":3,"sources":["../../../src/database/entities/Pricelist.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, DeleteDateColumn, OneToMany, Index } from 'typeorm';\n\n\n/**\n * Pricelist Types\n */\nexport type PricelistType = 'general' | 'consultation' | 'court' | 'document' | 'other';\n\nexport type PricelistStatus = 'active' | 'inactive' | 'archived';\n\n/**\n * Pricelist Entity\n */\n@Entity('pricelists')\n@Index('idx_pricelists_tenant_id', ['tenantId'])\n@Index('idx_pricelists_type', ['type'])\n@Index('idx_pricelists_status', ['status'])\nexport class Pricelist {\n    @PrimaryGeneratedColumn('uuid')\n    id: string;\n\n    @Column({ name: 'tenant_id', type: 'uuid' })\n    tenantId: string;\n\n    // Basic Info\n    @Column({ type: 'varchar', length: 255 })\n    name: string;\n\n    @Column({ type: 'text', nullable: true })\n    description: string;\n\n    @Column({\n        type: 'varchar',\n    })\n    type: PricelistType;\n\n    // Settings\n    @Column({\n        type: 'varchar',\n        default: 'active'\n    })\n    status: PricelistStatus;\n\n    @Column({ name: 'is_default', type: 'boolean', default: false })\n    isDefault: boolean;\n\n    // Rounding\n    roundingRule: 'up' | 'down' | 'none';\n\n    @Column({ name: 'rounding_precision', type: 'int', default: 2 })\n    roundingPrecision: number;\n\n    // VAT\n    @Column({ name: 'vat_rate', type: 'decimal', precision: 5, scale: 4, nullable: true })\n    vatRate: number;\n\n    @Column({ name: 'vat_included', type: 'boolean', default: true })\n    vatIncluded: boolean;\n\n    // Discount\n    @Column({ name: 'discount_enabled', type: 'boolean', default: false })\n    discountEnabled: boolean;\n\n    discountType: 'percentage' | 'fixed' | null;\n\n    @Column({ name: 'discount_value', type: 'decimal', precision: 10, scale: 2, nullable: true })\n    discountValue: number;\n\n    // Metadata\n    @Column({ type: 'json' })\n    metadata: Record<string, any>;\n\n    // Soft Delete\n    @DeleteDateColumn({ name: 'deleted_at', type: 'datetime' })\n    deletedAt: Date;\n\n    // Timestamps\n    @CreateDateColumn({ name: 'created_at', type: 'datetime' })\n    createdAt: Date;\n\n    @UpdateDateColumn({ name: 'updated_at', type: 'datetime' })\n    updatedAt: Date;\n\n    @Column({ name: 'created_by', type: 'uuid', nullable: true })\n    createdBy: string;\n\n    @Column({ name: 'updated_by', type: 'uuid', nullable: true })\n    updatedBy: string;\n\n    // Relations\n    @OneToMany(() => require('./PricelistItem.entity').PricelistItem, (item) => item.pricelist)\n    items: PricelistItem[];\n}\n"],"names":["Pricelist","name","type","length","nullable","default","precision","scale","require","PricelistItem","item","pricelist"],"mappings":";;;;+BAiBaA;;;eAAAA;;;yBAjBkH;;;;;;;;;;AAiBxH,IAAA,AAAMA,YAAN,MAAMA;AA2Eb;;;;;;;QAvEcC,MAAM;QAAaC,MAAM;;;;;;QAIzBA,MAAM;QAAWC,QAAQ;;;;;;QAGzBD,MAAM;QAAQE,UAAU;;;;;;QAI9BF,MAAM;;;;;;QAMNA,MAAM;QACNG,SAAS;;;;;;QAIHJ,MAAM;QAAcC,MAAM;QAAWG,SAAS;;;;;;QAM9CJ,MAAM;QAAsBC,MAAM;QAAOG,SAAS;;;;;;QAIlDJ,MAAM;QAAYC,MAAM;QAAWI,WAAW;QAAGC,OAAO;QAAGH,UAAU;;;;;;QAGrEH,MAAM;QAAgBC,MAAM;QAAWG,SAAS;;;;;;QAIhDJ,MAAM;QAAoBC,MAAM;QAAWG,SAAS;;;;;;QAKpDJ,MAAM;QAAkBC,MAAM;QAAWI,WAAW;QAAIC,OAAO;QAAGH,UAAU;;;;;;QAI5EF,MAAM;;;;;;QAIID,MAAM;QAAcC,MAAM;;;;;;QAI1BD,MAAM;QAAcC,MAAM;;;;;;QAG1BD,MAAM;QAAcC,MAAM;;;;;;QAGpCD,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;;QAG5CH,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;gCAIrCI,QAAQ,0BAA0BC,aAAa,GAAGC,OAASA,KAAKC,SAAS;;;;;;QA5E1D;;;QACL;;;QACE"}