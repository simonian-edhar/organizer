{"version":3,"sources":["../../../src/database/entities/PricelistItem.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, DeleteDateColumn, ManyToOne, JoinColumn, Index } from 'typeorm';\n\n\n/**\n * PricelistItem Entity\n * Represents a service/item in a pricelist\n */\n@Entity('pricelist_items')\n@Index('idx_pricelist_items_tenant_id', ['tenantId'])\n@Index('idx_pricelist_items_pricelist_id', ['pricelistId'])\n@Index('idx_pricelist_items_category', ['category'])\nexport class PricelistItem {\n    @PrimaryGeneratedColumn('uuid')\n    id: string;\n\n    @Column({ name: 'tenant_id', type: 'uuid' })\n    tenantId: string;\n\n    @Column({ name: 'pricelist_id', type: 'uuid' })\n    pricelistId: string;\n\n    // Item Details\n    @Column({ type: 'varchar', length: 255 })\n    name: string;\n\n    @Column({ type: 'varchar', length: 50 })\n    code: string; // Service code (e.g., 'CONSULT_1H', 'DOC_PREP')\n\n    @Column({ type: 'text', nullable: true })\n    description: string;\n\n    @Column({ type: 'varchar', length: 100 })\n    category: string; // e.g., 'Consultation', 'Document Prep', 'Court Hearing'\n\n    // Pricing\n    unitType: 'hourly' | 'fixed' | 'piecewise';\n\n    @Column({ name: 'base_price', type: 'decimal', precision: 12, scale: 2 })\n    basePrice: number;\n\n    @Column({ name: 'currency', type: 'varchar', length: 3, default: 'UAH' })\n    currency: string;\n\n    // Duration (for hourly services)\n    @Column({ name: 'default_duration', type: 'int', nullable: true })\n    defaultDuration: number; // in minutes\n\n    // Unit (for piecewise services)\n    @Column({ type: 'varchar', length: 50, nullable: true })\n    unit: string; // e.g., 'page', 'hour', 'document'\n\n    // Minimum Quantity\n    @Column({ name: 'min_quantity', type: 'int', nullable: true })\n    minQuantity: number;\n\n    // Active\n    @Column({ type: 'boolean', default: true })\n    isActive: boolean;\n\n    // Display Order\n    @Column({ name: 'display_order', type: 'int', default: 0 })\n    displayOrder: number;\n\n    // Metadata\n    @Column({ type: 'json' })\n    metadata: Record<string, any>;\n\n    // Soft Delete\n    @DeleteDateColumn({ name: 'deleted_at', type: 'datetime' })\n    deletedAt: Date;\n\n    // Timestamps\n    @CreateDateColumn({ name: 'created_at', type: 'datetime' })\n    createdAt: Date;\n\n    @UpdateDateColumn({ name: 'updated_at', type: 'datetime' })\n    updatedAt: Date;\n\n    @Column({ name: 'created_by', type: 'uuid', nullable: true })\n    createdBy: string;\n\n    @Column({ name: 'updated_by', type: 'uuid', nullable: true })\n    updatedBy: string;\n\n    // Relations\n    @ManyToOne(() => require('./Pricelist.entity').Pricelist)\n    @JoinColumn({ name: 'pricelist_id' })\n    pricelist: Pricelist;\n}\n"],"names":["PricelistItem","name","type","length","nullable","precision","scale","default","require","Pricelist"],"mappings":";;;;+BAWaA;;;eAAAA;;;yBAX8H;;;;;;;;;;AAWpI,IAAA,AAAMA,gBAAN,MAAMA;AA6Eb;;;;;;;QAzEcC,MAAM;QAAaC,MAAM;;;;;;QAGzBD,MAAM;QAAgBC,MAAM;;;;;;QAI5BA,MAAM;QAAWC,QAAQ;;;;;;QAGzBD,MAAM;QAAWC,QAAQ;;;;;;QAGzBD,MAAM;QAAQE,UAAU;;;;;;QAGxBF,MAAM;QAAWC,QAAQ;;;;;;QAMzBF,MAAM;QAAcC,MAAM;QAAWG,WAAW;QAAIC,OAAO;;;;;;QAG3DL,MAAM;QAAYC,MAAM;QAAWC,QAAQ;QAAGI,SAAS;;;;;;QAIvDN,MAAM;QAAoBC,MAAM;QAAOE,UAAU;;;;;;QAIjDF,MAAM;QAAWC,QAAQ;QAAIC,UAAU;;;;;;QAIvCH,MAAM;QAAgBC,MAAM;QAAOE,UAAU;;;;;;QAI7CF,MAAM;QAAWK,SAAS;;;;;;QAI1BN,MAAM;QAAiBC,MAAM;QAAOK,SAAS;;;;;;QAI7CL,MAAM;;;;;;QAIID,MAAM;QAAcC,MAAM;;;;;;QAI1BD,MAAM;QAAcC,MAAM;;;;;;QAG1BD,MAAM;QAAcC,MAAM;;;;;;QAGpCD,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;;QAG5CH,MAAM;QAAcC,MAAM;QAAQE,UAAU;;;;;gCAIrCI,QAAQ,sBAAsBC,SAAS;;QAC1CR,MAAM;;;;;;;QA9EiB;;;QACG;;;QACJ"}