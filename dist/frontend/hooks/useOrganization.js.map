{"version":3,"sources":["../../../src/frontend/hooks/useOrganization.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { organizationService } from '../services/organization.service';\nimport { Organization, UpdateOrganizationData } from '../types/organization.types';\n\n/**\n * Use Organization Hook\n */\nexport const useOrganization = () => {\n    const [organization, setOrganization] = useState<Organization | null>(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    /**\n     * Load organization\n     */\n    const loadOrganization = useCallback(async (): Promise<void> => {\n        setIsLoading(true);\n        setError(null);\n\n        try {\n            const data = await organizationService.getOrganization();\n            setOrganization(data);\n        } catch (error: any) {\n            setError(error.response?.data?.message || 'Не вдалося завантажити організацію');\n        } finally {\n            setIsLoading(false);\n        }\n    }, []);\n\n    /**\n     * Update organization\n     */\n    const updateOrganization = useCallback(async (\n        data: UpdateOrganizationData\n    ): Promise<void> => {\n        setIsLoading(true);\n        setError(null);\n\n        try {\n            const updated = await organizationService.updateOrganization(data);\n            setOrganization(updated);\n        } catch (error: any) {\n            setError(error.response?.data?.message || 'Не вдалося оновити організацію');\n            throw error;\n        } finally {\n            setIsLoading(false);\n        }\n    }, []);\n\n    /**\n     * Load on first render\n     */\n    useEffect(() => {\n        loadOrganization();\n    }, [loadOrganization]);\n\n    return {\n        organization,\n        isLoading,\n        error,\n        loadOrganization,\n        updateOrganization,\n    };\n};\n"],"names":["useOrganization","organization","setOrganization","useState","isLoading","setIsLoading","error","setError","loadOrganization","useCallback","data","organizationService","getOrganization","response","message","updateOrganization","updated","useEffect"],"mappings":";;;;+BAOaA;;;eAAAA;;;uBAPoC;qCACb;AAM7B,MAAMA,kBAAkB;IAC3B,MAAM,CAACC,cAAcC,gBAAgB,GAAGC,IAAAA,eAAQ,EAAsB;IACtE,MAAM,CAACC,WAAWC,aAAa,GAAGF,IAAAA,eAAQ,EAAC;IAC3C,MAAM,CAACG,OAAOC,SAAS,GAAGJ,IAAAA,eAAQ,EAAgB;IAElD;;KAEC,GACD,MAAMK,mBAAmBC,IAAAA,kBAAW,EAAC;QACjCJ,aAAa;QACbE,SAAS;QAET,IAAI;YACA,MAAMG,OAAO,MAAMC,wCAAmB,CAACC,eAAe;YACtDV,gBAAgBQ;QACpB,EAAE,OAAOJ,OAAY;YACjBC,SAASD,MAAMO,QAAQ,EAAEH,MAAMI,WAAW;QAC9C,SAAU;YACNT,aAAa;QACjB;IACJ,GAAG,EAAE;IAEL;;KAEC,GACD,MAAMU,qBAAqBN,IAAAA,kBAAW,EAAC,OACnCC;QAEAL,aAAa;QACbE,SAAS;QAET,IAAI;YACA,MAAMS,UAAU,MAAML,wCAAmB,CAACI,kBAAkB,CAACL;YAC7DR,gBAAgBc;QACpB,EAAE,OAAOV,OAAY;YACjBC,SAASD,MAAMO,QAAQ,EAAEH,MAAMI,WAAW;YAC1C,MAAMR;QACV,SAAU;YACND,aAAa;QACjB;IACJ,GAAG,EAAE;IAEL;;KAEC,GACDY,IAAAA,gBAAS,EAAC;QACNT;IACJ,GAAG;QAACA;KAAiB;IAErB,OAAO;QACHP;QACAG;QACAE;QACAE;QACAO;IACJ;AACJ"}