{"version":3,"sources":["../../../src/frontend/services/document.service.ts"],"sourcesContent":["import api from './api';\nimport {\n    Document,\n    UploadDocumentDto,\n    UpdateDocumentDto,\n    DocumentFilters,\n    DocumentListResponse,\n    DocumentStatistics,\n    SignDocumentDto,\n    GenerateSignedUrlDto,\n    SignedUrlResponse,\n} from '../types/document.types';\n\n/**\n * Document Service\n */\nclass DocumentService {\n    private baseUrl = '/documents';\n\n    /**\n     * Get all documents\n     */\n    async getDocuments(filters?: DocumentFilters): Promise<DocumentListResponse> {\n        const params = new URLSearchParams();\n\n        if (filters) {\n            Object.entries(filters).forEach(([key, value]) => {\n                if (value !== undefined && value !== null) {\n                    params.append(key, String(value));\n                }\n            });\n        }\n\n        const query = params.toString();\n        return api.get<DocumentListResponse>(`${this.baseUrl}${query ? `?${query}` : ''}`);\n    }\n\n    /**\n     * Get document by ID\n     */\n    async getDocument(id: string): Promise<Document> {\n        return api.get<Document>(`${this.baseUrl}/${id}`);\n    }\n\n    /**\n     * Upload document\n     */\n    async uploadDocument(\n        file: File,\n        data: UploadDocumentDto,\n        onProgress?: (progress: number) => void\n    ): Promise<Document> {\n        const formData = new FormData();\n        formData.append('file', file);\n        Object.entries(data).forEach(([key, value]) => {\n            if (value !== undefined && value !== null) {\n                formData.append(key, String(value));\n            }\n        });\n\n        return api.upload<Document>(`${this.baseUrl}/upload`, file, onProgress);\n    }\n\n    /**\n     * Update document\n     */\n    async updateDocument(id: string, data: UpdateDocumentDto): Promise<Document> {\n        return api.put<Document>(`${this.baseUrl}/${id}`, data);\n    }\n\n    /**\n     * Sign document\n     */\n    async signDocument(id: string, data: SignDocumentDto): Promise<Document> {\n        return api.post<Document>(`${this.baseUrl}/${id}/sign`, data);\n    }\n\n    /**\n     * Generate signed URL\n     */\n    async generateSignedUrl(id: string, data: GenerateSignedUrlDto): Promise<SignedUrlResponse> {\n        return api.post<SignedUrlResponse>(`${this.baseUrl}/${id}/signed-url`, data);\n    }\n\n    /**\n     * Delete document\n     */\n    async deleteDocument(id: string): Promise<void> {\n        return api.delete(`${this.baseUrl}/${id}`);\n    }\n\n    /**\n     * Get document statistics\n     */\n    async getStatistics(): Promise<DocumentStatistics> {\n        return api.get<DocumentStatistics>(`${this.baseUrl}/statistics`);\n    }\n\n    /**\n     * Download document\n     */\n    async downloadDocument(id: string, filename: string): Promise<void> {\n        return api.download(`${this.baseUrl}/${id}/download`, filename);\n    }\n}\n\nexport const documentService = new DocumentService();\nexport default documentService;\n"],"names":["documentService","DocumentService","getDocuments","filters","params","URLSearchParams","Object","entries","forEach","key","value","undefined","append","String","query","toString","api","get","baseUrl","getDocument","id","uploadDocument","file","data","onProgress","formData","FormData","upload","updateDocument","put","signDocument","post","generateSignedUrl","deleteDocument","delete","getStatistics","downloadDocument","filename","download"],"mappings":";;;;;;;;;;;QA2GA;eAAA;;QADaA;eAAAA;;;4DA1GG;;;;;;AAahB;;CAEC,GACD,IAAA,AAAMC,kBAAN,MAAMA;IAGF;;KAEC,GACD,MAAMC,aAAaC,OAAyB,EAAiC;QACzE,MAAMC,SAAS,IAAIC;QAEnB,IAAIF,SAAS;YACTG,OAAOC,OAAO,CAACJ,SAASK,OAAO,CAAC,CAAC,CAACC,KAAKC,MAAM;gBACzC,IAAIA,UAAUC,aAAaD,UAAU,MAAM;oBACvCN,OAAOQ,MAAM,CAACH,KAAKI,OAAOH;gBAC9B;YACJ;QACJ;QAEA,MAAMI,QAAQV,OAAOW,QAAQ;QAC7B,OAAOC,YAAG,CAACC,GAAG,CAAuB,GAAG,IAAI,CAACC,OAAO,GAAGJ,QAAQ,CAAC,CAAC,EAAEA,OAAO,GAAG,IAAI;IACrF;IAEA;;KAEC,GACD,MAAMK,YAAYC,EAAU,EAAqB;QAC7C,OAAOJ,YAAG,CAACC,GAAG,CAAW,GAAG,IAAI,CAACC,OAAO,CAAC,CAAC,EAAEE,IAAI;IACpD;IAEA;;KAEC,GACD,MAAMC,eACFC,IAAU,EACVC,IAAuB,EACvBC,UAAuC,EACtB;QACjB,MAAMC,WAAW,IAAIC;QACrBD,SAASb,MAAM,CAAC,QAAQU;QACxBhB,OAAOC,OAAO,CAACgB,MAAMf,OAAO,CAAC,CAAC,CAACC,KAAKC,MAAM;YACtC,IAAIA,UAAUC,aAAaD,UAAU,MAAM;gBACvCe,SAASb,MAAM,CAACH,KAAKI,OAAOH;YAChC;QACJ;QAEA,OAAOM,YAAG,CAACW,MAAM,CAAW,GAAG,IAAI,CAACT,OAAO,CAAC,OAAO,CAAC,EAAEI,MAAME;IAChE;IAEA;;KAEC,GACD,MAAMI,eAAeR,EAAU,EAAEG,IAAuB,EAAqB;QACzE,OAAOP,YAAG,CAACa,GAAG,CAAW,GAAG,IAAI,CAACX,OAAO,CAAC,CAAC,EAAEE,IAAI,EAAEG;IACtD;IAEA;;KAEC,GACD,MAAMO,aAAaV,EAAU,EAAEG,IAAqB,EAAqB;QACrE,OAAOP,YAAG,CAACe,IAAI,CAAW,GAAG,IAAI,CAACb,OAAO,CAAC,CAAC,EAAEE,GAAG,KAAK,CAAC,EAAEG;IAC5D;IAEA;;KAEC,GACD,MAAMS,kBAAkBZ,EAAU,EAAEG,IAA0B,EAA8B;QACxF,OAAOP,YAAG,CAACe,IAAI,CAAoB,GAAG,IAAI,CAACb,OAAO,CAAC,CAAC,EAAEE,GAAG,WAAW,CAAC,EAAEG;IAC3E;IAEA;;KAEC,GACD,MAAMU,eAAeb,EAAU,EAAiB;QAC5C,OAAOJ,YAAG,CAACkB,MAAM,CAAC,GAAG,IAAI,CAAChB,OAAO,CAAC,CAAC,EAAEE,IAAI;IAC7C;IAEA;;KAEC,GACD,MAAMe,gBAA6C;QAC/C,OAAOnB,YAAG,CAACC,GAAG,CAAqB,GAAG,IAAI,CAACC,OAAO,CAAC,WAAW,CAAC;IACnE;IAEA;;KAEC,GACD,MAAMkB,iBAAiBhB,EAAU,EAAEiB,QAAgB,EAAiB;QAChE,OAAOrB,YAAG,CAACsB,QAAQ,CAAC,GAAG,IAAI,CAACpB,OAAO,CAAC,CAAC,EAAEE,GAAG,SAAS,CAAC,EAAEiB;IAC1D;;aAtFQnB,UAAU;;AAuFtB;AAEO,MAAMlB,kBAAkB,IAAIC;MACnC,WAAeD"}