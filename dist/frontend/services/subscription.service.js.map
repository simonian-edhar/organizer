{"version":3,"sources":["../../../src/frontend/services/subscription.service.ts"],"sourcesContent":["import api from './api';\nimport {\n    Subscription,\n    SubscriptionPlan,\n    SubscriptionFeatures,\n    PLAN_LIMITS,\n} from '../types/subscription.types';\n\n/**\n * Subscription Service\n */\nexport const subscriptionService = {\n    /**\n     * Get current subscription\n     */\n    async getSubscription(): Promise<Subscription> {\n        return api.get<Subscription>('/organizations/subscription');\n    },\n\n    /**\n     * Get plan features\n     */\n    getPlanFeatures(plan: SubscriptionPlan): SubscriptionFeatures {\n        return PLAN_LIMITS[plan];\n    },\n\n    /**\n     * Check if plan has feature\n     */\n    hasFeature(\n        plan: SubscriptionPlan,\n        feature: keyof SubscriptionFeatures\n    ): boolean {\n        return !!PLAN_LIMITS[plan]?.[feature];\n    },\n\n    /**\n     * Get plan limits\n     */\n    getPlanLimit(plan: SubscriptionPlan, limit: keyof SubscriptionFeatures): any {\n        return PLAN_LIMITS[plan]?.[limit];\n    },\n\n    /**\n     * Upgrade plan\n     */\n    async upgradePlan(plan: SubscriptionPlan): Promise<{ checkoutUrl: string }> {\n        return api.post<{ checkoutUrl: string }>('/billing/checkout', { plan });\n    },\n\n    /**\n     * Cancel subscription\n     */\n    async cancelSubscription(): Promise<void> {\n        await api.post<void>('/billing/cancel');\n    },\n\n    /**\n     * Resume subscription\n     */\n    async resumeSubscription(): Promise<void> {\n        await api.post<void>('/billing/resume');\n    },\n\n    /**\n     * Update payment method\n     */\n    async updatePaymentMethod(paymentMethodId: string): Promise<void> {\n        await api.put<void>('/billing/payment-method', { paymentMethodId });\n    },\n\n    /**\n     * Get invoices\n     */\n    async getInvoices(): Promise<any[]> {\n        return api.get<any[]>('/billing/invoices');\n    },\n\n    /**\n     * Download invoice\n     */\n    downloadInvoice(invoiceId: string, filename: string): void {\n        api.download(`/billing/invoices/${invoiceId}/download`, filename);\n    },\n};\n"],"names":["subscriptionService","getSubscription","api","get","getPlanFeatures","plan","PLAN_LIMITS","hasFeature","feature","getPlanLimit","limit","upgradePlan","post","cancelSubscription","resumeSubscription","updatePaymentMethod","paymentMethodId","put","getInvoices","downloadInvoice","invoiceId","filename","download"],"mappings":";;;;+BAWaA;;;eAAAA;;;4DAXG;mCAMT;;;;;;AAKA,MAAMA,sBAAsB;IAC/B;;KAEC,GACD,MAAMC;QACF,OAAOC,YAAG,CAACC,GAAG,CAAe;IACjC;IAEA;;KAEC,GACDC,iBAAgBC,IAAsB;QAClC,OAAOC,8BAAW,CAACD,KAAK;IAC5B;IAEA;;KAEC,GACDE,YACIF,IAAsB,EACtBG,OAAmC;QAEnC,OAAO,CAAC,CAACF,8BAAW,CAACD,KAAK,EAAE,CAACG,QAAQ;IACzC;IAEA;;KAEC,GACDC,cAAaJ,IAAsB,EAAEK,KAAiC;QAClE,OAAOJ,8BAAW,CAACD,KAAK,EAAE,CAACK,MAAM;IACrC;IAEA;;KAEC,GACD,MAAMC,aAAYN,IAAsB;QACpC,OAAOH,YAAG,CAACU,IAAI,CAA0B,qBAAqB;YAAEP;QAAK;IACzE;IAEA;;KAEC,GACD,MAAMQ;QACF,MAAMX,YAAG,CAACU,IAAI,CAAO;IACzB;IAEA;;KAEC,GACD,MAAME;QACF,MAAMZ,YAAG,CAACU,IAAI,CAAO;IACzB;IAEA;;KAEC,GACD,MAAMG,qBAAoBC,eAAuB;QAC7C,MAAMd,YAAG,CAACe,GAAG,CAAO,2BAA2B;YAAED;QAAgB;IACrE;IAEA;;KAEC,GACD,MAAME;QACF,OAAOhB,YAAG,CAACC,GAAG,CAAQ;IAC1B;IAEA;;KAEC,GACDgB,iBAAgBC,SAAiB,EAAEC,QAAgB;QAC/CnB,YAAG,CAACoB,QAAQ,CAAC,CAAC,kBAAkB,EAAEF,UAAU,SAAS,CAAC,EAAEC;IAC5D;AACJ"}