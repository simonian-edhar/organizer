{"version":3,"sources":["../../../src/frontend/services/auth.service.ts"],"sourcesContent":["import api from './api';\nimport {\n    LoginCredentials,\n    RegisterCredentials,\n    AuthResponse,\n    RefreshTokenResponse,\n    ForgotPasswordData,\n    ResetPasswordData,\n    VerifyEmailData,\n    User,\n} from '../types/auth.types';\n\n/**\n * Auth Service\n */\nexport const authService = {\n    /**\n     * Login\n     */\n    async login(credentials: LoginCredentials): Promise<AuthResponse> {\n        return api.post<AuthResponse>('/auth/login', credentials);\n    },\n\n    /**\n     * Refresh token\n     */\n    async refreshToken(refreshToken: string): Promise<RefreshTokenResponse> {\n        return api.post<RefreshTokenResponse>('/auth/refresh', { refreshToken });\n    },\n\n    /**\n     * Logout\n     */\n    async logout(refreshToken?: string): Promise<void> {\n        await api.post<void>('/auth/logout', { refreshToken });\n    },\n\n    /**\n     * Logout from all devices\n     */\n    async logoutAll(): Promise<void> {\n        await api.post<void>('/auth/logout-all');\n    },\n\n    /**\n     * Forgot password\n     */\n    async forgotPassword(data: ForgotPasswordData): Promise<void> {\n        await api.post<void>('/auth/forgot-password', data);\n    },\n\n    /**\n     * Reset password\n     */\n    async resetPassword(data: ResetPasswordData): Promise<void> {\n        await api.post<void>('/auth/reset-password', data);\n    },\n\n    /**\n     * Verify email\n     */\n    async verifyEmail(data: VerifyEmailData): Promise<void> {\n        await api.post<void>('/auth/verify-email', data);\n    },\n\n    /**\n     * Get current user\n     */\n    async getMe(): Promise<User> {\n        return api.get<User>('/auth/me');\n    },\n\n    /**\n     * Register - Simple email + password registration\n     */\n    async register(credentials: RegisterCredentials): Promise<AuthResponse> {\n        const response = await api.post<AuthResponse>('/auth/register', credentials);\n\n        // Store tokens after registration for auto-login\n        if (response.accessToken && response.refreshToken) {\n            this.setTokens(response);\n        }\n\n        return response;\n    },\n\n    /**\n     * Store tokens\n     */\n    setTokens(tokens: AuthResponse): void {\n        localStorage.setItem('access_token', tokens.accessToken);\n        localStorage.setItem('refresh_token', tokens.refreshToken);\n    },\n\n    /**\n     * Get access token\n     */\n    getAccessToken(): string | null {\n        return localStorage.getItem('access_token');\n    },\n\n    /**\n     * Get refresh token\n     */\n    getRefreshToken(): string | null {\n        return localStorage.getItem('refresh_token');\n    },\n\n    /**\n     * Clear tokens\n     */\n    clearTokens(): void {\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n    },\n\n    /**\n     * Check if user is authenticated\n     */\n    isAuthenticated(): boolean {\n        return !!localStorage.getItem('access_token');\n    },\n};\n"],"names":["authService","login","credentials","api","post","refreshToken","logout","logoutAll","forgotPassword","data","resetPassword","verifyEmail","getMe","get","register","response","accessToken","setTokens","tokens","localStorage","setItem","getAccessToken","getItem","getRefreshToken","clearTokens","removeItem","isAuthenticated"],"mappings":";;;;+BAeaA;;;eAAAA;;;4DAfG;;;;;;AAeT,MAAMA,cAAc;IACvB;;KAEC,GACD,MAAMC,OAAMC,WAA6B;QACrC,OAAOC,YAAG,CAACC,IAAI,CAAe,eAAeF;IACjD;IAEA;;KAEC,GACD,MAAMG,cAAaA,YAAoB;QACnC,OAAOF,YAAG,CAACC,IAAI,CAAuB,iBAAiB;YAAEC;QAAa;IAC1E;IAEA;;KAEC,GACD,MAAMC,QAAOD,YAAqB;QAC9B,MAAMF,YAAG,CAACC,IAAI,CAAO,gBAAgB;YAAEC;QAAa;IACxD;IAEA;;KAEC,GACD,MAAME;QACF,MAAMJ,YAAG,CAACC,IAAI,CAAO;IACzB;IAEA;;KAEC,GACD,MAAMI,gBAAeC,IAAwB;QACzC,MAAMN,YAAG,CAACC,IAAI,CAAO,yBAAyBK;IAClD;IAEA;;KAEC,GACD,MAAMC,eAAcD,IAAuB;QACvC,MAAMN,YAAG,CAACC,IAAI,CAAO,wBAAwBK;IACjD;IAEA;;KAEC,GACD,MAAME,aAAYF,IAAqB;QACnC,MAAMN,YAAG,CAACC,IAAI,CAAO,sBAAsBK;IAC/C;IAEA;;KAEC,GACD,MAAMG;QACF,OAAOT,YAAG,CAACU,GAAG,CAAO;IACzB;IAEA;;KAEC,GACD,MAAMC,UAASZ,WAAgC;QAC3C,MAAMa,WAAW,MAAMZ,YAAG,CAACC,IAAI,CAAe,kBAAkBF;QAEhE,iDAAiD;QACjD,IAAIa,SAASC,WAAW,IAAID,SAASV,YAAY,EAAE;YAC/C,IAAI,CAACY,SAAS,CAACF;QACnB;QAEA,OAAOA;IACX;IAEA;;KAEC,GACDE,WAAUC,MAAoB;QAC1BC,aAAaC,OAAO,CAAC,gBAAgBF,OAAOF,WAAW;QACvDG,aAAaC,OAAO,CAAC,iBAAiBF,OAAOb,YAAY;IAC7D;IAEA;;KAEC,GACDgB;QACI,OAAOF,aAAaG,OAAO,CAAC;IAChC;IAEA;;KAEC,GACDC;QACI,OAAOJ,aAAaG,OAAO,CAAC;IAChC;IAEA;;KAEC,GACDE;QACIL,aAAaM,UAAU,CAAC;QACxBN,aAAaM,UAAU,CAAC;IAC5B;IAEA;;KAEC,GACDC;QACI,OAAO,CAAC,CAACP,aAAaG,OAAO,CAAC;IAClC;AACJ"}