{"version":3,"sources":["../../../../src/enterprise/domains/entities/CustomDomain.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, Index, ManyToOne, JoinColumn } from 'typeorm';\nimport { Organization } from '../../../database/entities/Organization.entity';\nimport { DnsRecord } from '../interfaces/custom-domain.interface';\n\n@Entity('custom_domains')\n@Index('idx_custom_domains_tenant_id', ['tenantId'])\n@Index('idx_custom_domains_domain', ['domain'], { unique: true })\nexport class CustomDomain {\n    @PrimaryGeneratedColumn('uuid')\n    id: string;\n\n    @Column({ name: 'tenant_id', type: 'uuid' })\n    tenantId: string;\n\n    @Column({ type: 'varchar', length: 255, unique: true })\n    domain: string;\n\n    @Column({ name: 'is_verified', type: 'boolean', default: false })\n    isVerified: boolean;\n\n    @Column({ name: 'is_primary', type: 'boolean', default: false })\n    isPrimary: boolean;\n\n    @Column({ name: 'ssl_enabled', type: 'boolean', default: false })\n    sslEnabled: boolean;\n\n    @Column({ name: 'ssl_certificate', type: 'text', nullable: true })\n    sslCertificate: string;\n\n    @Column({ name: 'ssl_private_key', type: 'text', nullable: true })\n    sslPrivateKey: string;\n\n    @Column({ name: 'ssl_expires_at', type: 'datetime', nullable: true })\n    sslExpiresAt: Date;\n\n    @Column({ name: 'dns_records', type: 'json', default: [] })\n    dnsRecords: DnsRecord[];\n\n    @Column({ name: 'verification_token', type: 'varchar', length: 64, nullable: true })\n    verificationToken: string;\n\n    @Column({ name: 'verified_at', type: 'datetime', nullable: true })\n    verifiedAt: Date;\n\n    @CreateDateColumn({ name: 'created_at', type: 'datetime' })\n    createdAt: Date;\n\n    @UpdateDateColumn({ name: 'updated_at', type: 'datetime' })\n    updatedAt: Date;\n\n    @ManyToOne(() => Organization, { onDelete: 'CASCADE' })\n    @JoinColumn({ name: 'tenant_id' })\n    organization: Organization;\n}\n"],"names":["CustomDomain","name","type","length","unique","default","nullable","Organization","onDelete"],"mappings":";;;;+BAOaA;;;eAAAA;;;yBAP4G;oCAC5F;;;;;;;;;;AAMtB,IAAA,AAAMA,eAAN,MAAMA;AA8Cb;;;;;;;QA1CcC,MAAM;QAAaC,MAAM;;;;;;QAGzBA,MAAM;QAAWC,QAAQ;QAAKC,QAAQ;;;;;;QAGtCH,MAAM;QAAeC,MAAM;QAAWG,SAAS;;;;;;QAG/CJ,MAAM;QAAcC,MAAM;QAAWG,SAAS;;;;;;QAG9CJ,MAAM;QAAeC,MAAM;QAAWG,SAAS;;;;;;QAG/CJ,MAAM;QAAmBC,MAAM;QAAQI,UAAU;;;;;;QAGjDL,MAAM;QAAmBC,MAAM;QAAQI,UAAU;;;;;;QAGjDL,MAAM;QAAkBC,MAAM;QAAYI,UAAU;;;;;;QAGpDL,MAAM;QAAeC,MAAM;QAAQG,SAAS,EAAE;;;;;;QAG9CJ,MAAM;QAAsBC,MAAM;QAAWC,QAAQ;QAAIG,UAAU;;;;;;QAGnEL,MAAM;QAAeC,MAAM;QAAYI,UAAU;;;;;;QAGvCL,MAAM;QAAcC,MAAM;;;;;;QAG1BD,MAAM;QAAcC,MAAM;;;;;gCAG7BK,gCAAY;QAAIC,UAAU;;;QAC7BP,MAAM;;;;;;;QA9CgB;;;QACH;;QAAaG,QAAQ"}