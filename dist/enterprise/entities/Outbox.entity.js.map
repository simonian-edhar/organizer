{"version":3,"sources":["../../../src/enterprise/entities/Outbox.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, Index } from 'typeorm';\n\n/**\n * Outbox Table\n * Stores events that need to be published reliably\n */\n@Entity('outbox')\n@Index('idx_outbox_processed')\nexport class Outbox {\n    @PrimaryGeneratedColumn('uuid')\n    id: string;\n\n    @Column({ type: 'varchar', length: 100 })\n    eventType: string;\n\n    @Column({ type: 'json' })\n    payload: Record<string, any>;\n\n    @Column({ type: 'boolean', default: false })\n    processed: boolean;\n\n    @Column({ type: 'int', default: 0 })\n    retryCount: number;\n\n    @Column({ type: 'json', nullable: true })\n    lastError: Record<string, any>;\n\n    @Column({ type: 'datetime', nullable: true })\n    processedAt: Date;\n\n    @Column({ type: 'datetime', default: () => 'NOW()' })\n    createdAt: Date;\n}\n"],"names":["Outbox","type","length","default","nullable"],"mappings":";;;;+BAQaA;;;eAAAA;;;yBARmE;;;;;;;;;;AAQzE,IAAA,AAAMA,SAAN,MAAMA;AAwBb;;;;;;;QApBcC,MAAM;QAAWC,QAAQ;;;;;;QAGzBD,MAAM;;;;;;QAGNA,MAAM;QAAWE,SAAS;;;;;;QAG1BF,MAAM;QAAOE,SAAS;;;;;;QAGtBF,MAAM;QAAQG,UAAU;;;;;;QAGxBH,MAAM;QAAYG,UAAU;;;;;;QAG5BH,MAAM;QAAYE,SAAS,IAAM"}